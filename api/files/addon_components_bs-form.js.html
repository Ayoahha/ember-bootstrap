<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>addon/components/bs-form.js - ember-bootstrap</title>
    <!--<link rel="stylesheet" href="../assets/css/main.css" id="site_styles">-->
    <!--<link rel="stylesheet" href="../assets/css/custom.css">-->

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="//kaliber5.github.io/ember-bootstrap/stylesheets/kaliber5.css">
    <script type="text/javascript" src="//use.typekit.net/dkq5epu.js"></script>
    <script type="text/javascript">try{Typekit.load();}catch(e){}</script>
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="shortcut icon" href="//kaliber5.github.io/ember-bootstrap/favicon.ico">
</head>
<body class="yui3-skin-sam">
<div class="navbar navbar-inverse navbar-static-top">
    <div class="container">
        <div class="navbar-header">
            <div class="navbar-toggle-wrapper visible-xs">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".js-navbar-collapse">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
            </div>
            <a href="/ember-bootstrap/" class="navbar-brand">ember-bootstrap</a>
        </div>
        <div class="collapse navbar-collapse js-navbar-collapse">
            <ul class="navbar-nav nav">
                <li><a href="/ember-bootstrap/getting-started">Getting Started</a></li>
                <li><a href="/ember-bootstrap/components">Components</a></li>
                <li><a href="/ember-bootstrap/api">API</a></li>

            </ul>
            <ul class="navbar-nav nav navbar-right">
                <li><a href="https://github.com/kaliber5/ember-bootstrap" target="_blank"><i class="fa fa-github"></i></a></li>

            </ul>
        </div>
    </div>
</div>
<div class="container">
    <h1>API Docs <span class="small">v0.6.1</span></h1>
    <div class="row">
        <div class="col-sm-8">
            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
<div class="page-header">
    <h1>addon/components/bs-form.js <small>File</small></h1>
</div>

<div class="file">
    <pre class="prettyprint linenums">
import Ember from &#x27;ember&#x27;;
import FormElement from &#x27;ember-bootstrap/components/bs-form-element&#x27;;

/**
 Render a form with the appropriate Bootstrap layout class (see &#x60;formLayout&#x60;).
 Allows setting a &#x60;model&#x60; that nested &#x60;Components.FormElement&#x60;s can access, and that can provide form validation through
 [ember-validations](https://github.com/dockyard/ember-validations)

 You can use whatever markup you like within the form:

 &#x60;&#x60;&#x60;hbs
 {{#bs-form action=&quot;submit&quot;}}
   {{#bs-form-group validation=firstNameValidation}}
     &lt;label class=&quot;control-label&quot;&gt;First name&lt;/label&gt;
     {{bs-input type=&quot;text&quot; value=firstname}}
   {{/bs-form-group}}
 {{/bs-form}}
 &#x60;&#x60;&#x60;

 However to benefit from features such as automatic form markup, validations and validation markup, use &#x60;Components.FormElement&#x60;
 as nested components. See below for an example.

 ### Submitting the form

 When the form is submitted (e.g. by clicking a submit button), the event will be intercepted and the default action
 will be sent to the controller.
 When an [ember-validations](https://github.com/dockyard/ember-validations) validated model is supplied, validations
 rules are evaluated before, and if those fail, the &quot;invalid&quot; action is sent instead of the default &quot;action&quot;.

 ### Use with Components.FormElement

 When using &#x60;Components.FormElement&#x60;s with their &#x60;property&#x60; set to property names of the form&#x27;s validation enabled
 &#x60;model&#x60;, you gain some additional powerful features:
 * the appropriate Bootstrap markup for the given &#x60;formLayout&#x60; and the form element&#x27;s &#x60;controlType&#x60; is automatically generated
 * markup for validation states and error messages is generated based on the model&#x27;s validation, when submitting the form
 with an invalid validation, or when focusing out of invalid inputs

 &#x60;&#x60;&#x60;hbs
 {{#bs-form formLayout=&quot;horizontal&quot; model=this action=&quot;submit&quot;}}
   {{bs-form-element controlType=&quot;email&quot; label=&quot;Email&quot; placeholder=&quot;Email&quot; property=&quot;email&quot;}}
   {{bs-form-element controlType=&quot;password&quot; label=&quot;Password&quot; placeholder=&quot;Password&quot; property=&quot;password&quot;}}
   {{bs-form-element controlType=&quot;checkbox&quot; label=&quot;Remember me&quot; property=&quot;rememberMe&quot;}}
   {{bs-button defaultText=&quot;Submit&quot; type=&quot;primary&quot; buttonType=&quot;submit&quot;}}
 {{/bs-form}}
 &#x60;&#x60;&#x60;

 See the &#x60;Components.FormElement&#x60; API docs for further information.

 @class Form
 @namespace Components
 @extends Ember.Component
*/
export default Ember.Component.extend({
    tagName: &#x27;form&#x27;,
    classNameBindings: [&#x27;layoutClass&#x27;],
    ariaRole: &#x27;form&#x27;,

    /**
     * Bootstrap form class name (computed)
     *
     * @property layoutClass
     * @type string
     * @readonly
     * @protected
     *
     */
    layoutClass: Ember.computed(&#x27;formLayout&#x27;, function() {
        var layout = this.get(&#x27;formLayout&#x27;);
        return layout === &#x27;vertical&#x27; ? &#x27;form&#x27; : &#x27;form-&#x27; + layout;
    }),

    /**
     * Set a model that this form should represent. This serves several purposes:
     *
     * * child &#x60;Components.FormElement&#x60;s can access and bind to this model by their &#x60;property&#x60;
     * * when the model supports validation by using the [ember-validations](https://github.com/dockyard/ember-validations) mixin,
     * child &#x60;Components.FormElement&#x60;s will look at the validation information of their &#x60;property&#x60; and render their form group accordingly.
     * Moreover the form&#x27;s &#x60;submit&#x60; event handler will validate the model and deny submitting if the model is not validated successfully.
     *
     * @property model
     * @type Ember.Object
     * @public
     */
    model: null,

    /**
     * Set the layout of the form to either &quot;vertical&quot;, &quot;horizontal&quot; or &quot;inline&quot;. See http://getbootstrap.com/css/#forms-inline and http://getbootstrap.com/css/#forms-horizontal
     *
     * @property formLayout
     * @type string
     * @public
     */
    formLayout: &#x27;vertical&#x27;,

    /**
     * Check if the &#x60;model&#x60; has a validate method, i.e. supports validation by using [ember-validations](https://github.com/dockyard/ember-validations)
     *
     * @property hasValidator
     * @type boolean
     * @readonly
     * @protected
     */
    hasValidator: Ember.computed.notEmpty(&#x27;model.validate&#x27;),

    /**
     * The Bootstrap grid class for form labels. This is used by the &#x60;Components.FormElement&#x60; class as a default for the
     * whole form.
     *
     * @property horizontalLabelGridClass
     * @type string
     * @default &#x27;col-md-4&#x27;
     * @public
     */
    horizontalLabelGridClass: &#x27;col-md-4&#x27;,


    /**
     * If set to true pressing enter will submit the form, even if no submit button is present
     *
     * @property submitOnEnter
     * @type boolean
     * @default false
     * @public
     */
    submitOnEnter: false,

    /**
     * An array of &#x60;Components.FormElement&#x60;s that are children of this form.
     *
     * @property childFormElements
     * @type Array
     * @readonly
     * @protected
     */
    childFormElements: Ember.computed.filter(&#x27;childViews&#x27;, function(view) {
        return view instanceof FormElement;
    }),

    /**
     * Submit handler that will send the default action (&quot;action&quot;) to the controller when submitting the form.
     *
     * If there is a supplied &#x60;model&#x60; that supports validation (&#x60;hasValidator&#x60;) the model will be validated before, and
     * only if validation is successful the default action will be sent. Otherwise an &quot;invalid&quot; action will be sent, and
     * all the &#x60;showValidation&#x60; property of all child &#x60;Components.FormElement&#x60;s will be set to true, so error state and
     * messages will be shown automatically.
     *
     * @event submit
     */
    submit: function(e) {
        var that = this;
        if (e) {
            e.preventDefault();
        }
        if (!this.get(&#x27;hasValidator&#x27;)) {
            return this.sendAction();
        } else {
            return this
                .get(&#x27;model&#x27;)
                .validate()
                .then(function() {
                    if (that.get(&#x27;model.isValid&#x27;)) {
                        return that.sendAction();
                    }
                })
                .catch(function(){
                    that.get(&#x27;childFormElements&#x27;).setEach(&#x27;showValidation&#x27;, true);
                    return that.sendAction(&#x27;invalid&#x27;);
                });
        }
    },

    keyPress: function(e) {
        var code = e.keyCode || e.which;
        if(code === 13 &amp;&amp; this.get(&#x27;submitOnEnter&#x27;)) {
            this.$().submit();
        }
    }
});
    </pre>
</div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-sm-4">
            <h3>Classes</h3>
            
            <ul id="api-classes" class="nav nav-pills nav-stacked">
                    <li><a href="../classes/Components.Accordion.html">Components.Accordion</a></li>
                    <li><a href="../classes/Components.AccordionItem.html">Components.AccordionItem</a></li>
                    <li><a href="../classes/Components.Alert.html">Components.Alert</a></li>
                    <li><a href="../classes/Components.Button.html">Components.Button</a></li>
                    <li><a href="../classes/Components.ButtonGroup.html">Components.ButtonGroup</a></li>
                    <li><a href="../classes/Components.Collapse.html">Components.Collapse</a></li>
                    <li><a href="../classes/Components.Dropdown.html">Components.Dropdown</a></li>
                    <li><a href="../classes/Components.DropdownButton.html">Components.DropdownButton</a></li>
                    <li><a href="../classes/Components.DropdownMenu.html">Components.DropdownMenu</a></li>
                    <li><a href="../classes/Components.DropdownToggle.html">Components.DropdownToggle</a></li>
                    <li><a href="../classes/Components.Form.html">Components.Form</a></li>
                    <li><a href="../classes/Components.FormElement.html">Components.FormElement</a></li>
                    <li><a href="../classes/Components.FormGroup.html">Components.FormGroup</a></li>
                    <li><a href="../classes/Components.Input.html">Components.Input</a></li>
                    <li><a href="../classes/Components.Modal.html">Components.Modal</a></li>
                    <li><a href="../classes/Components.ModalBody.html">Components.ModalBody</a></li>
                    <li><a href="../classes/Components.ModalFooter.html">Components.ModalFooter</a></li>
                    <li><a href="../classes/Components.ModalHeader.html">Components.ModalHeader</a></li>
                    <li><a href="../classes/Components.Progress.html">Components.Progress</a></li>
                    <li><a href="../classes/Components.ProgressBar.html">Components.ProgressBar</a></li>
                    <li><a href="../classes/Components.Select.html">Components.Select</a></li>
                    <li><a href="../classes/Components.Textarea.html">Components.Textarea</a></li>
                    <li><a href="../classes/Mixins.ComponentChild.html">Mixins.ComponentChild</a></li>
                    <li><a href="../classes/Mixins.ComponentParent.html">Mixins.ComponentParent</a></li>
                    <li><a href="../classes/Mixins.DropdownToggle.html">Mixins.DropdownToggle</a></li>
                    <li><a href="../classes/Mixins.ModalCloser.html">Mixins.ModalCloser</a></li>
                    <li><a href="../classes/Mixins.SizeClass.html">Mixins.SizeClass</a></li>
                    <li><a href="../classes/Mixins.SubComponent.html">Mixins.SubComponent</a></li>
                    <li><a href="../classes/Mixins.TypeClass.html">Mixins.TypeClass</a></li>
            </ul>        </div>
    </div>
</div>
<script src="//code.jquery.com/jquery-1.11.2.min.js"></script>
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script src="../assets/js/yuidoc-bootstrap.js"></script>
<script>prettyPrint();</script>
</body>
</html>
